---
title: "Promise"
description: "JS Promise handling in ReScript"
canonical: "/docs/manual/latest/promise"
---

# Promise

ReScript has built-in support for [JavaScript promises](api/js/promise). The 3 functions you generally need are:

- `Js.Promise.resolve: 'a => Js.Promise.t('a)`
- `Js.Promise.then_: ('a => Js.Promise.t('b), Js.Promise.t('a)) => Js.Promise.t('b)`
- `Js.Promise.catch: (Js.Promise.error => Js.Promise.t('a), Js.Promise.t('a)) => Js.Promise.t('a)`

Additionally, here's the type signature for creating a promise on the ReScript side:

<CodeTab labels={["Reason (Old Syntax)", "ML (Older Syntax)"]}>

```rei
Js.Promise.make: (
  (
    ~resolve: (. 'a) => unit,
    ~reject: (. exn) => unit
  ) => unit
) => Js.Promise.t('a);
```
```mli
Js.Promise.make: (
  resolve:(('a -> unit) [@bs]) ->
  reject:((exn -> unit) [@bs]) ->
  unit
) -> 'a Js.Promise.t
```

</CodeTab>

This type signature means that `make` takes a callback that takes 2 named arguments, `resolve` and `reject`. Both arguments are themselves [uncurried callbacks](
function.md#uncurried-function) (with a dot). `make` returns the created promise.

## Usage

Using the [pipe operator](pipe.md):

<CodeTab labels={["Reason (Old Syntax)", "ML (Older Syntax)", "JS Output"]}>

```re
let myPromise = Js.Promise.make((~resolve, ~reject) => resolve(. 2));

myPromise
|> Js.Promise.then_(value => {
     Js.log(value);
     Js.Promise.resolve(value + 2);
   })
|> Js.Promise.then_(value => {
     Js.log(value);
     Js.Promise.resolve(value + 3);
   })
|> Js.Promise.catch(err => {
     Js.log2("Failure!!", err);
     Js.Promise.resolve(-2);
   });
```
```ml
let myPromise = Js.Promise.make (fun ~resolve ~reject -> ((resolve 2) [@bs]))

let () = myPromise
|> Js.Promise.then_(fun value ->
     Js.log value;
     Js.Promise.resolve (value + 2)
   )
|> Js.Promise.then_(fun value ->
     Js.log value;
     Js.Promise.resolve (value + 3)
   )
|> Js.Promise.catch(fun err ->
     Js.log2 "Failure!!", err;
     Js.Promise.resolve -2
   )
```
```js
var myPromise = new Promise(function (resolve, reject) {
  return resolve(2);
});

myPromise
  .then(function (value) {
    console.log(value);
    return Promise.resolve((value + 2) | 0);
  })
  .then(function (value) {
    console.log(value);
    return Promise.resolve((value + 3) | 0);
  })
  .catch(function (err) {
    console.log("Failure!!", err);
    return Promise.resolve(-2);
  });
```

</CodeTab>

**Note**: we might offer a dedicated syntax for JS promises (async/await) in the future. Stay tuned!
