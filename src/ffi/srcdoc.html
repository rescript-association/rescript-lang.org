<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>
    <div id="root"></div>
    <script
      src="https://unpkg.com/react@17/umd/react.production.min.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/@rescript/std@9.1.0/lib/js/curry.js"
      crossorigin
    ></script>
    <script>
      window.addEventListener("message", (event) => {
        if (
          event.origin !==
          window.location.protocol + "//" + window.location.host
        )
          return;

        const mainWindow = event.source;
        let result;
        try {
          result = eval(`
                (function () {'use strict';
function Playground$Button(Props) {
    var count = Props.count;
    var times = count !== 1 ? count !== 2 ? String(count) + ' times' : 'twice' : 'once';
    var msg = 'Click me ' + times;
    return React.createElement('button', undefined, msg);
}
var Button = { make: Playground$Button };
function Playground$Test(Props) {
    return React.createElement(Playground$Button, { count: 1 });
}
var Test = { make: Playground$Test };

                   const root = document.getElementById("root");
                   ReactDOM.render(Test.make(), root);
})();
                `);
        } catch (err) {
          console.log(err);
          result = "eval() threw an exception.";
        }
        mainWindow.postMessage(result, event.origin);
      });
    </script>
  </body>
</html>
