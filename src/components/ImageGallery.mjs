// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as React from "react";
import * as Belt_Array from "rescript/lib/es6/belt_Array.js";
import * as React$1 from "@headlessui/react";

function ImageGallery(Props) {
  var classNameOpt = Props.className;
  var imgClassNameOpt = Props.imgClassName;
  var imgSrcs = Props.imgSrcs;
  var modeOpt = Props.mode;
  var className = classNameOpt !== undefined ? classNameOpt : "";
  var imgClassName = imgClassNameOpt !== undefined ? imgClassNameOpt : "";
  var mode = modeOpt !== undefined ? modeOpt : /* NoAuto */0;
  var match = React.useState(function () {
        return 0;
      });
  var setIndex = match[1];
  var index = match[0];
  React.useEffect((function () {
          if (!mode) {
            return ;
          }
          var timerId = setInterval((function (param) {
                  return Curry._1(setIndex, (function (prev) {
                                if (prev === (imgSrcs.length - 1 | 0)) {
                                  return 0;
                                } else {
                                  return prev + 1 | 0;
                                }
                              }));
                }), mode._0);
          return (function (param) {
                    clearInterval(timerId);
                    
                  });
        }), []);
  var src = Belt_Array.getExn(imgSrcs, index);
  var lineEls = Belt_Array.mapWithIndex(imgSrcs, (function (i, src) {
          var bgColor = i === index ? "bg-gray-40" : "bg-gray-70";
          var onClick = function (evt) {
            evt.preventDefault();
            return Curry._1(setIndex, (function (param) {
                          return i;
                        }));
          };
          return React.createElement("div", {
                      key: src,
                      className: "group flex items-center hover:cursor-pointer h-8 w-8",
                      onClick: onClick
                    }, React.createElement("div", {
                          className: "h-[1px] group-hover:bg-gray-40 w-full " + bgColor
                        }));
        }));
  var onClick = function (evt) {
    evt.preventDefault();
    return Curry._1(setIndex, (function (prev) {
                  if (prev === (imgSrcs.length - 1 | 0)) {
                    return 0;
                  } else {
                    return prev + 1 | 0;
                  }
                }));
  };
  return React.createElement("div", {
              className: className
            }, React.createElement("div", {
                  className: "w-full",
                  onClick: onClick
                }, React.createElement(React$1.Transition, {
                      appear: true,
                      show: true,
                      enter: "transition-opacity duration-1000",
                      enterFrom: "opacity-0",
                      enterTo: "opacity-100",
                      leave: "transition-opacity duration-1000",
                      leaveFrom: "opacity-100",
                      leaveTo: "opacity-0",
                      children: React.createElement("img", {
                            className: imgClassName,
                            src: src
                          }),
                      key: src
                    })), React.createElement("div", {
                  className: "flex space-x-2 mt-4"
                }, lineEls));
}

var make = ImageGallery;

export {
  make ,
  
}
/* react Not a pure module */
